# æŠ€è¡“æŒ‡æ¨™é…ç½®æ–‡ä»¶
# åŒ…å«200+é‡åŒ–äº¤æ˜“æŠ€è¡“æŒ‡æ¨™çš„åƒæ•¸è¨­ç½®

# ==================== è¶‹åŠ¿æŒ‡æ ‡ ====================
trend_indicators:
  moving_averages:
    sma:  # ç°¡å–®ç§»å‹•å¹³å‡ç·š
      periods: [5, 10, 20, 50, 100, 200]
      enabled: true
      weight: 1.0
    ema:  # æŒ‡æ•¸ç§»å‹•å¹³å‡ç·š
      periods: [9, 12, 21, 26, 50, 100, 200]
      enabled: true
      weight: 1.2
    wma:  # åŠ æ¬Šç§»å‹•å¹³å‡ç·š
      periods: [10, 20, 50]
      enabled: true
      weight: 0.8
    hull_ma:  # èµ«çˆ¾ç§»å‹•å¹³å‡ç·š
      periods: [9, 16, 25]
      enabled: true
      weight: 1.1
    tema:  # ä¸‰é‡æŒ‡æ•¸ç§»å‹•å¹³å‡ç·š
      periods: [14, 21, 30]
      enabled: true
      weight: 1.0
    dema:  # é›™é‡æŒ‡æ•¸ç§»å‹•å¹³å‡ç·š
      periods: [14, 21, 30]
      enabled: true
      weight: 1.0
    
  trend_following:
    macd:  # MACDæŒ‡æ¨™
      fast_period: 12
      slow_period: 26
      signal_period: 9
      enabled: true
      weight: 1.5
    adx:  # å¹³å‡è¶¨å‘æŒ‡æ¨™
      periods: [14, 21, 28]
      threshold: 25
      enabled: true
      weight: 1.3
    psar:  # æ‹‹ç‰©ç·šSAR
      acceleration: 0.02
      maximum: 0.2
      enabled: true
      weight: 1.0
    aroon:  # é˜¿éš†æŒ‡æ¨™
      periods: [14, 25]
      enabled: true
      weight: 1.0
    supertrend:  # è¶…ç´šè¶¨å‹¢
      periods: [10, 14, 20]
      multipliers: [2, 3, 4]
      enabled: true
      weight: 1.2
    ichimoku:  # ä¸€ç›®å‡è¡¡è¡¨
      conversion_period: 9
      base_period: 26
      leading_span_b_period: 52
      displacement: 26
      enabled: true
      weight: 1.1

# ==================== å‹•é‡æŒ‡æ¨™ ====================
momentum_indicators:
  oscillators:
    rsi:  # ç›¸å°å¼·å¼±æŒ‡æ¨™
      periods: [14, 21, 28]
      overbought: 70
      oversold: 30
      enabled: true
      weight: 1.4
    stoch:  # éš¨æ©ŸæŒ‡æ¨™
      k_period: 14
      d_period: 3
      smooth_k: 3
      overbought: 80
      oversold: 20
      enabled: true
      weight: 1.2
    stoch_rsi:  # éš¨æ©ŸRSI
      periods: [14, 21]
      k_period: 3
      d_period: 3
      enabled: true
      weight: 1.1
    williams_r:  # å¨å»‰æŒ‡æ¨™
      periods: [14, 21]
      overbought: -20
      oversold: -80
      enabled: true
      weight: 1.0
    cci:  # å•†å“é€šé“æŒ‡æ¨™
      periods: [14, 20, 28]
      overbought: 100
      oversold: -100
      enabled: true
      weight: 1.0
    roc:  # è®Šå‹•ç‡æŒ‡æ¨™
      periods: [12, 25, 50]
      enabled: true
      weight: 0.9
    momentum:  # å‹•é‡æŒ‡æ¨™
      periods: [10, 14, 20]
      enabled: true
      weight: 0.8
    tsi:  # çœŸå¯¦å¼·åº¦æŒ‡æ•¸
      long_period: 25
      short_period: 13
      signal_period: 7
      enabled: true
      weight: 1.0
      
  price_oscillators:
    ppo:  # åƒ¹æ ¼éœ‡ç›ªæŒ‡æ¨™
      fast_period: 12
      slow_period: 26
      signal_period: 9
      enabled: true
      weight: 1.0
    detrended_price:  # å»è¶¨å‹¢åƒ¹æ ¼éœ‡ç›ªå™¨
      period: 14
      enabled: true
      weight: 0.9

# ==================== æ³¢å‹•ç‡æŒ‡æ¨™ ====================
volatility_indicators:
  bands:
    bollinger:  # å¸ƒæ—å¸¶
      periods: [20, 50]
      std_dev: [2, 2.5]
      enabled: true
      weight: 1.3
    keltner:  # è‚¯ç‰¹ç´é€šé“
      periods: [20, 50]
      atr_period: 10
      multiplier: 2
      enabled: true
      weight: 1.1
    donchian:  # å”å¥‡å®‰é€šé“
      periods: [20, 55]
      enabled: true
      weight: 1.0
      
  volatility_measures:
    atr:  # çœŸå¯¦æ³¢å‹•å¹…åº¦å‡å€¼
      periods: [14, 21, 28]
      enabled: true
      weight: 1.2
    natr:  # æ¨™æº–åŒ–ATR
      periods: [14, 21]
      enabled: true
      weight: 1.0
    std_dev:  # æ¨™æº–å·®
      periods: [20, 50]
      enabled: true
      weight: 0.9
    variance:  # æ–¹å·®
      periods: [20, 50]
      enabled: true
      weight: 0.8
    historical_volatility:  # æ­·å²æ³¢å‹•ç‡
      periods: [20, 30, 60]
      enabled: true
      weight: 1.0
    garman_klass:  # Garman-Klassæ³¢å‹•ç‡
      periods: [20, 30]
      enabled: true
      weight: 0.9

# ==================== æˆäº¤é‡æŒ‡æ¨™ ====================
volume_indicators:
  volume_price:
    obv:  # èƒ½é‡æ½®
      enabled: true
      weight: 1.2
    ad_line:  # ç´¯ç©/æ´¾ç™¼ç·š
      enabled: true
      weight: 1.1
    cmf:  # è”¡é‡‘è³‡é‡‘æµé‡
      periods: [20, 21]
      enabled: true
      weight: 1.0
    mfi:  # è³‡é‡‘æµé‡æŒ‡æ¨™
      periods: [14, 21]
      enabled: true
      weight: 1.1
    ad_osc:  # ç´¯ç©/æ´¾ç™¼éœ‡ç›ªå™¨
      fast_period: 3
      slow_period: 10
      enabled: true
      weight: 0.9
    
  volume_analysis:
    vwap:  # æˆäº¤é‡åŠ æ¬Šå¹³å‡åƒ¹
      periods: [20, 50]
      enabled: true
      weight: 1.3
    volume_sma:  # æˆäº¤é‡ç§»å‹•å¹³å‡
      periods: [10, 20, 50]
      enabled: true
      weight: 1.0
    volume_ratio:  # æˆäº¤é‡æ¯”ç‡
      periods: [5, 10, 20]
      enabled: true
      weight: 0.9
    ease_of_movement:  # ç°¡æ˜“æ³¢å‹•æŒ‡æ¨™
      periods: [14, 20]
      enabled: true
      weight: 0.8
    negative_volume_index:  # è² æˆäº¤é‡æŒ‡æ¨™
      enabled: true
      weight: 0.7
    positive_volume_index:  # æ­£æˆäº¤é‡æŒ‡æ¨™
      enabled: true
      weight: 0.7
    volume_oscillator:  # æˆäº¤é‡éœ‡ç›ªå™¨
      short_period: 5
      long_period: 10
      enabled: true
      weight: 0.8

# ==================== å¸‚å ´çµæ§‹æŒ‡æ¨™ ====================
market_structure:
  support_resistance:
    pivot_points:  # æ¨è»¸é»
      enabled: true
      weight: 1.2
      method: "standard"  # standard, fibonacci, camarilla
    fibonacci_retracement:  # æ–æ³¢é‚£å¥‘å›èª¿
      levels: [0.236, 0.382, 0.5, 0.618, 0.786]
      enabled: true
      weight: 1.0
    
  pattern_recognition:
    fractal:  # åˆ†å½¢
      enabled: true
      weight: 0.9
    swing_points:  # æ“ºå‹•é»
      lookback: 5
      enabled: true
      weight: 0.8
    higher_highs_lows:  # æ›´é«˜é«˜é»/ä½é»
      periods: [10, 20]
      enabled: true
      weight: 0.7

# ==================== é«˜ç´šæŒ‡æ¨™ ====================
advanced_indicators:
  composite:
    stochastic_momentum:  # éš¨æ©Ÿå‹•é‡æŒ‡æ¨™
      k_period: 10
      k_smooth: 3
      d_period: 3
      enabled: true
      weight: 1.0
    elder_ray:  # è‰¾é”é›·æŒ‡æ¨™
      period: 13
      enabled: true
      weight: 0.9
    chande_momentum:  # éŒ¢å¾·å‹•é‡éœ‡ç›ªå™¨
      periods: [9, 14, 20]
      enabled: true
      weight: 0.8
    
  statistical:
    z_score:  # Zåˆ†æ•¸
      periods: [20, 50]
      enabled: true
      weight: 0.9
    percentile_rank:  # ç™¾åˆ†ä½æ’å
      periods: [20, 50, 100]
      enabled: true
      weight: 0.8
    correlation:  # ç›¸é—œä¿‚æ•¸
      periods: [20, 50]
      benchmark: "BTCUSDT"
      enabled: true
      weight: 0.7
      
  market_regime:
    market_regime_filter:  # å¸‚å ´ç‹€æ…‹éæ¿¾å™¨
      fast_ma: 50
      slow_ma: 200
      enabled: true
      weight: 1.1
    trend_strength:  # è¶¨å‹¢å¼·åº¦
      period: 14
      enabled: true
      weight: 0.9

# ==================== å¨ç§‘å¤«æŒ‡æ¨™ ====================
wyckoff_indicators:
  volume_analysis:
    volume_spread_analysis:  # æˆäº¤é‡åƒ¹å·®åˆ†æ
      enabled: true
      weight: 1.2
    effort_vs_result:  # åŠ›åº¦èˆ‡çµæœ
      enabled: true
      weight: 1.1
    background_volume:  # èƒŒæ™¯æˆäº¤é‡
      periods: [50, 100]
      enabled: true
      weight: 1.0
    
  price_action:
    spring_test:  # å½ˆç°§æ¸¬è©¦
      enabled: true
      weight: 1.0
    upthrust:  # å‡çªç ´
      enabled: true
      weight: 1.0
    stopping_volume:  # åœæ­¢æˆäº¤é‡
      enabled: true
      weight: 0.9

# ==================== è‡ªå®šç¾©æŒ‡æ¨™ ====================
custom_indicators:
  multi_timeframe:
    higher_tf_trend:  # æ›´é«˜æ™‚æ¡†è¶¨å‹¢
      base_timeframe: "1h"
      higher_timeframes: ["4h", "1d"]
      enabled: true
      weight: 1.3
    
  machine_learning:
    feature_importance:  # ç‰¹å¾µé‡è¦æ€§
      enabled: false  # éœ€è¦è¨“ç·´å¾Œæ‰èƒ½å•Ÿç”¨
      weight: 1.5
    prediction_confidence:  # é æ¸¬ä¿¡å¿ƒåº¦
      enabled: false
      weight: 1.4

# ==================== çµ„åˆè¨­ç½® ====================
indicator_combinations:
  trend_following_combo:
    indicators: ["ema_21", "macd", "adx"]
    min_agreement: 2  # è‡³å°‘2å€‹æŒ‡æ¨™åŒæ„
    weight: 1.5
    
  mean_reversion_combo:
    indicators: ["rsi_14", "bollinger_bands", "stoch_rsi"]
    min_agreement: 2
    weight: 1.3
    
  momentum_combo:
    indicators: ["rsi_14", "momentum", "roc_12"]
    min_agreement: 2
    weight: 1.2
    
  volume_combo:
    indicators: ["obv", "mfi", "cmf"]
    min_agreement: 2
    weight: 1.4

# ==================== æ™‚æ¡†è¨­ç½® ====================
timeframe_settings:
  1m:
    fast_indicators: ["ema_9", "rsi_14", "macd"]
    update_frequency: "realtime"
  5m:
    indicators: ["ema_21", "bollinger_bands", "volume_sma"]
    update_frequency: "5min"
  15m:
    indicators: ["sma_50", "atr_14", "adx"]
    update_frequency: "15min"
  1h:
    indicators: ["sma_200", "ichimoku", "elder_ray"]
    update_frequency: "1h"
  4h:
    indicators: ["ema_100", "pivot_points", "fibonacci"]
    update_frequency: "4h"
  1d:
    indicators: ["sma_200", "market_regime_filter"]
    update_frequency: "1d"

# ==================== å„ªåŒ–è¨­ç½® ====================
optimization:
  parameter_ranges:
    rsi_period: [10, 30]
    ma_period: [10, 200]
    bollinger_std: [1.5, 3.0]
    atr_period: [10, 30]
  
  optimization_metric: "sharpe_ratio"  # sharpe_ratio, max_drawdown, total_return
  lookback_period: 252  # å„ªåŒ–ç”¨çš„æ­·å²æ•¸æ“šå¤©æ•¸

# ==================== ğŸ”§ P1æ–°å¢ï¼šå¤šæ™‚æ¡†ç­–ç•¥é…ç½® ====================
# åŸºæ–¼ã€Œ15mäº¤æ˜“ï¼Œ1håƒè€ƒã€è¨­è¨ˆç†å¿µ
multi_timeframe_strategy:
  enabled: true
  use_reference_only: true  # é«˜æ™‚æ¡†åƒ…ä½œç‚ºåƒè€ƒï¼ˆä¸ç”Ÿæˆå®Œæ•´æŠ€è¡“æŒ‡æ¨™ï¼‰
  
  timeframes:
    15m:  # ç•¶å‰æ™‚æ¡† = ä¸»è¦äº¤æ˜“ä¿¡è™Ÿ
      type: main
      role: "PRIMARY_TRADING_SIGNALS"
      target_feature_ratio: 0.80  # ç›®æ¨™80%çš„æœ€çµ‚é¸æ“‡ç‰¹å¾µ
      features:
        - full_technical_indicators  # å®Œæ•´æŠ€è¡“æŒ‡æ¨™é›†
        - rsi
        - macd
        - bollinger_bands
        - atr
        - volume_indicators
        - stochastic
        - momentum
        - price_action
      max_features: 200  # å…è¨±ç”Ÿæˆçš„æœ€å¤§ç‰¹å¾µæ•¸
      
    1h:  # é«˜æ™‚æ¡† = å¤§ç’°å¢ƒåƒè€ƒ
      type: reference
      role: "MACRO_ENVIRONMENT_REFERENCE"
      target_feature_ratio: 0.15  # ç›®æ¨™10-15%çš„æœ€çµ‚é¸æ“‡ç‰¹å¾µ
      features:
        - trend_direction  # åƒ…è¶¨å‹¢æ–¹å‘
        - ema_20
        - ema_50
        - support_resistance
        - price_ema_ratio
      max_features: 10  # åš´æ ¼é™åˆ¶ç‰¹å¾µæ•¸é‡
      prohibited_features:  # ç¦æ­¢ç”Ÿæˆçš„æŒ‡æ¨™ï¼ˆå¤ªæ»¯å¾Œï¼‰
        - rsi
        - macd
        - bollinger_bands
        - stochastic
        - momentum_oscillators
        
    4h:  # è¶…é«˜æ™‚æ¡† = è¶…å¤§è¶¨å‹¢ï¼ˆå¯é¸ï¼‰
      type: reference
      role: "SUPER_TREND_OPTIONAL"
      target_feature_ratio: 0.05  # ç›®æ¨™<5%çš„æœ€çµ‚é¸æ“‡ç‰¹å¾µ
      features:
        - trend_direction  # åƒ…è¶¨å‹¢æ–¹å‘
      max_features: 5
      prohibited_features:
        - all_technical_indicators  # ç¦æ­¢æ‰€æœ‰æŠ€è¡“æŒ‡æ¨™
  
  # ç‰¹å¾µé¸æ“‡ç´„æŸ
  feature_selection_constraints:
    min_native_ratio: 0.50  # Layer2ç²—é¸éšæ®µï¼šè‡³å°‘50%ä¾†è‡ªåŸç”Ÿ15m
    final_native_ratio: 0.80  # Layer2æœ€çµ‚ï¼šè‡³å°‘80%ä¾†è‡ªåŸç”Ÿ15m
    max_reference_ratio: 0.20  # åƒè€ƒæ™‚æ¡†æœ€å¤šä½”20%
    
  # å°é½Šç­–ç•¥ï¼ˆé˜²æ­¢æ™‚é–“æ´©æ¼ï¼‰
  alignment_strategy:
    use_strict_shift: true  # ä½¿ç”¨åš´æ ¼shifté˜²è­·
    double_shift: true  # é›™é‡shiftï¼ˆresample + alignï¼‰
    purged_cv: true  # ä½¿ç”¨Purged CV
    embargo_pct: 0.02  # 2% embargo