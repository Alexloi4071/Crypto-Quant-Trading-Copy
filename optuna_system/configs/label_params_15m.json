{
  "timeframe": "15m",
  "best_params": {
    "lag": 8,
    "threshold_method": "quantile",
    "lookback_window": 592,
    "buy_quantile": 0.7841333229319252,
    "sell_quantile": 0.2722664354917415,
    "profit_threshold": 0.01190631718249572,
    "loss_threshold": -0.019202158627276263,
    "vol_multiplier": 1.7149500956529535,
    "vol_window": 26,
    "profit_multiplier": 2.2943634465500633,
    "stop_multiplier": 1.0443023902308923,
    "max_holding": 16,
    "atr_period": 12,
    "min_samples": 3535,
    "balance_weight": 0.4595057700146998,
    "stability_weight": 0.2234904251515908,
    "fixed_lookback": 1836,
    "min_threshold_gap": 0.009561980011557501,
    "max_noise_ratio": 0.31202019527066915,
    "target_hold_ratio": 0.5156844024413535,
    "distribution_penalty": 1.0623617821961042,
    "n_trials": 150
  },
  "best_score": 0.9329758006449085,
  "n_trials": 150,
  "final_quality": {
    "balance_score": 0.9963247062788704,
    "stability_score": 0.7539238627932195,
    "f1_score": 0.9761617997954778,
    "precision_macro": 1.0,
    "recall_macro": 0.9534336573889111,
    "distribution": [
      0.2702281072237125,
      0.5146966497346042,
      0.21507524304168332
    ],
    "total_samples": 105126
  },
  "meta_vol": 0.010367718346314022,
  "optimization_history": [
    {
      "trial": 0,
      "score": 0.8233579887412605
    },
    {
      "trial": 1,
      "score": 0.7167591717598025
    },
    {
      "trial": 2,
      "score": -999.0
    },
    {
      "trial": 3,
      "score": -999.0
    },
    {
      "trial": 4,
      "score": -999.0
    },
    {
      "trial": 5,
      "score": 0.42706439508462607
    },
    {
      "trial": 6,
      "score": 0.7137807336076172
    },
    {
      "trial": 7,
      "score": -999.0
    },
    {
      "trial": 8,
      "score": -999.0
    },
    {
      "trial": 9,
      "score": -999.0
    },
    {
      "trial": 10,
      "score": 0.7445124176242599
    },
    {
      "trial": 11,
      "score": 0.7399800182331636
    },
    {
      "trial": 12,
      "score": 0.7819163918803738
    },
    {
      "trial": 13,
      "score": 0.8087278306816534
    },
    {
      "trial": 14,
      "score": -999.0
    },
    {
      "trial": 15,
      "score": -999.0
    },
    {
      "trial": 16,
      "score": 0.4788314788471559
    },
    {
      "trial": 17,
      "score": 0.8739531770753294
    },
    {
      "trial": 18,
      "score": 0.8740568258105457
    },
    {
      "trial": 19,
      "score": 0.8698275868578211
    },
    {
      "trial": 20,
      "score": -999.0
    },
    {
      "trial": 21,
      "score": 0.8680552426584768
    },
    {
      "trial": 22,
      "score": 0.896855246909281
    },
    {
      "trial": 23,
      "score": 0.8895356796698753
    },
    {
      "trial": 24,
      "score": 0.8273913944664861
    },
    {
      "trial": 25,
      "score": -999.0
    },
    {
      "trial": 26,
      "score": 0.2015973276707287
    },
    {
      "trial": 27,
      "score": 0.8894598566635245
    },
    {
      "trial": 28,
      "score": 0.8734756180141462
    },
    {
      "trial": 29,
      "score": 0.8942285568894116
    },
    {
      "trial": 30,
      "score": 0.8849167194435917
    },
    {
      "trial": 31,
      "score": 0.8901632487187708
    },
    {
      "trial": 32,
      "score": 0.8841996251175529
    },
    {
      "trial": 33,
      "score": 0.8847783878472915
    },
    {
      "trial": 34,
      "score": 0.8963343589958191
    },
    {
      "trial": 35,
      "score": -999.0
    },
    {
      "trial": 36,
      "score": 0.37735304283379595
    },
    {
      "trial": 37,
      "score": -999.0
    },
    {
      "trial": 38,
      "score": 0.8605865887996411
    },
    {
      "trial": 39,
      "score": -999.0
    },
    {
      "trial": 40,
      "score": 0.8905709367311319
    },
    {
      "trial": 41,
      "score": 0.8909904361462205
    },
    {
      "trial": 42,
      "score": 0.8880130925050383
    },
    {
      "trial": 43,
      "score": 0.8667523790222986
    },
    {
      "trial": 44,
      "score": -999.0
    },
    {
      "trial": 45,
      "score": 0.865382049603342
    },
    {
      "trial": 46,
      "score": 0.8159630195275082
    },
    {
      "trial": 47,
      "score": 0.8886228247604852
    },
    {
      "trial": 48,
      "score": -999.0
    },
    {
      "trial": 49,
      "score": 0.4258403870071843
    },
    {
      "trial": 50,
      "score": -999.0
    },
    {
      "trial": 51,
      "score": 0.9139952034902143
    },
    {
      "trial": 52,
      "score": 0.9322135962440429
    },
    {
      "trial": 53,
      "score": 0.9291164570854801
    },
    {
      "trial": 54,
      "score": 0.9176215338230609
    },
    {
      "trial": 55,
      "score": 0.9107439975069025
    },
    {
      "trial": 56,
      "score": -999.0
    },
    {
      "trial": 57,
      "score": 0.9027929213860253
    },
    {
      "trial": 58,
      "score": 0.9147783689439531
    },
    {
      "trial": 59,
      "score": 0.9044254415926872
    },
    {
      "trial": 60,
      "score": 0.9052494984102888
    },
    {
      "trial": 61,
      "score": 0.9090693633447754
    },
    {
      "trial": 62,
      "score": 0.9184588371114142
    },
    {
      "trial": 63,
      "score": 0.9177760196909882
    },
    {
      "trial": 64,
      "score": 0.9236026048317504
    },
    {
      "trial": 65,
      "score": 0.918719812606859
    },
    {
      "trial": 66,
      "score": -999.0
    },
    {
      "trial": 67,
      "score": -999.0
    },
    {
      "trial": 68,
      "score": 0.9077083986668708
    },
    {
      "trial": 69,
      "score": 0.6063213485094197
    },
    {
      "trial": 70,
      "score": 0.9031742565776242
    },
    {
      "trial": 71,
      "score": 0.9023514220586638
    },
    {
      "trial": 72,
      "score": 0.9147968023065053
    },
    {
      "trial": 73,
      "score": 0.9229650456199461
    },
    {
      "trial": 74,
      "score": 0.9165483787718647
    },
    {
      "trial": 75,
      "score": 0.7679228748756595
    },
    {
      "trial": 76,
      "score": 0.928910019087597
    },
    {
      "trial": 77,
      "score": -999.0
    },
    {
      "trial": 78,
      "score": 0.8311164703288252
    },
    {
      "trial": 79,
      "score": 0.8926464804906198
    },
    {
      "trial": 80,
      "score": 0.9296736004418389
    },
    {
      "trial": 81,
      "score": 0.928933009312213
    },
    {
      "trial": 82,
      "score": 0.9218584762235239
    },
    {
      "trial": 83,
      "score": 0.9205396902900941
    },
    {
      "trial": 84,
      "score": 0.9199944198434955
    },
    {
      "trial": 85,
      "score": 0.9164540469500849
    },
    {
      "trial": 86,
      "score": -999.0
    },
    {
      "trial": 87,
      "score": 0.8582840008613527
    },
    {
      "trial": 88,
      "score": 0.5776322606446563
    },
    {
      "trial": 89,
      "score": 0.9256786590985367
    },
    {
      "trial": 90,
      "score": -999.0
    },
    {
      "trial": 91,
      "score": 0.927289695573601
    },
    {
      "trial": 92,
      "score": 0.9215122743128596
    },
    {
      "trial": 93,
      "score": 0.9098633067566541
    },
    {
      "trial": 94,
      "score": 0.9231768327648707
    },
    {
      "trial": 95,
      "score": 0.8940553656412921
    },
    {
      "trial": 96,
      "score": 0.9087526147952518
    },
    {
      "trial": 97,
      "score": -999.0
    },
    {
      "trial": 98,
      "score": 0.8878818791067088
    },
    {
      "trial": 99,
      "score": 0.8864536617357622
    },
    {
      "trial": 100,
      "score": 0.9155846345892679
    },
    {
      "trial": 101,
      "score": 0.9017189535918132
    },
    {
      "trial": 102,
      "score": 0.9210034036494251
    },
    {
      "trial": 103,
      "score": 0.9249961692672061
    },
    {
      "trial": 104,
      "score": 0.9242491168526504
    },
    {
      "trial": 105,
      "score": 0.922999346353341
    },
    {
      "trial": 106,
      "score": 0.9179018196740836
    },
    {
      "trial": 107,
      "score": 0.9321649450858729
    },
    {
      "trial": 108,
      "score": -999.0
    },
    {
      "trial": 109,
      "score": 0.9315159717811529
    },
    {
      "trial": 110,
      "score": 0.6234804369544658
    },
    {
      "trial": 111,
      "score": 0.9302411632334553
    },
    {
      "trial": 112,
      "score": 0.923882601289082
    },
    {
      "trial": 113,
      "score": 0.9251440134165723
    },
    {
      "trial": 114,
      "score": 0.9306512513406761
    },
    {
      "trial": 115,
      "score": 0.9283714217500821
    },
    {
      "trial": 116,
      "score": -999.0
    },
    {
      "trial": 117,
      "score": 0.9192184006663575
    },
    {
      "trial": 118,
      "score": 0.9074446320325131
    },
    {
      "trial": 119,
      "score": 0.9015805170484681
    },
    {
      "trial": 120,
      "score": 0.891828957570796
    },
    {
      "trial": 121,
      "score": 0.9252476087377223
    },
    {
      "trial": 122,
      "score": 0.9288639889875644
    },
    {
      "trial": 123,
      "score": 0.8617587580383922
    },
    {
      "trial": 124,
      "score": 0.9235852855707865
    },
    {
      "trial": 125,
      "score": 0.9159902922253869
    },
    {
      "trial": 126,
      "score": -999.0
    },
    {
      "trial": 127,
      "score": 0.9018616554240566
    },
    {
      "trial": 128,
      "score": 0.8511400093055359
    },
    {
      "trial": 129,
      "score": 0.9284290954945625
    },
    {
      "trial": 130,
      "score": 0.9214886939575905
    },
    {
      "trial": 131,
      "score": 0.9322768933673041
    },
    {
      "trial": 132,
      "score": 0.9255242836512028
    },
    {
      "trial": 133,
      "score": 0.93130426547746
    },
    {
      "trial": 134,
      "score": 0.9275183822857802
    },
    {
      "trial": 135,
      "score": 0.925392553273082
    },
    {
      "trial": 136,
      "score": 0.9309267036804171
    },
    {
      "trial": 137,
      "score": -999.0
    },
    {
      "trial": 138,
      "score": 0.923965837508075
    },
    {
      "trial": 139,
      "score": 0.9117288349765944
    },
    {
      "trial": 140,
      "score": 0.49931708512709166
    },
    {
      "trial": 141,
      "score": 0.9285462342934898
    },
    {
      "trial": 142,
      "score": 0.9273565957863593
    },
    {
      "trial": 143,
      "score": 0.9329758006449085
    },
    {
      "trial": 144,
      "score": 0.9295260582255418
    },
    {
      "trial": 145,
      "score": 0.9134728809298093
    },
    {
      "trial": 146,
      "score": -999.0
    },
    {
      "trial": 147,
      "score": 0.9208103692346483
    },
    {
      "trial": 148,
      "score": 0.9248187993369272
    },
    {
      "trial": 149,
      "score": 0.909581749915862
    }
  ],
  "materialized_path": "D:\\crypto-quant-trading-copy\\crypto-quant-trading-copy\\crypto-quant-trading-copy\\data\\processed\\labels\\BTCUSDT_15m\\v23\\labels_BTCUSDT_15m_afc7f70605b71b1b0cf07b24f0b2f04d.parquet",
  "metadata": {
    "created_at": "2025-10-09T06:41:15.854833+00:00",
    "params_hash": "afc7f70605b71b1b0cf07b24f0b2f04d",
    "data_shape": [
      105126,
      6
    ],
    "data_columns": [
      "open",
      "high",
      "low",
      "close",
      "volume",
      "label"
    ],
    "cached": false,
    "storage_format": "parquet",
    "json_path": "d:\\crypto-quant-trading-copy\\crypto-quant-trading-copy\\crypto-quant-trading-copy\\optuna_system\\configs\\label_params_15m.json",
    "best_params": {
      "lag": 8,
      "threshold_method": "quantile",
      "lookback_window": 592,
      "buy_quantile": 0.7841333229319252,
      "sell_quantile": 0.2722664354917415,
      "profit_threshold": 0.01190631718249572,
      "loss_threshold": -0.019202158627276263,
      "vol_multiplier": 1.7149500956529535,
      "vol_window": 26,
      "profit_multiplier": 2.2943634465500633,
      "stop_multiplier": 1.0443023902308923,
      "max_holding": 16,
      "atr_period": 12,
      "min_samples": 3535,
      "balance_weight": 0.4595057700146998,
      "stability_weight": 0.2234904251515908,
      "fixed_lookback": 1836,
      "min_threshold_gap": 0.009561980011557501,
      "max_noise_ratio": 0.31202019527066915,
      "target_hold_ratio": 0.5156844024413535,
      "distribution_penalty": 1.0623617821961042,
      "n_trials": 150
    },
    "file_path": "D:\\crypto-quant-trading-copy\\crypto-quant-trading-copy\\crypto-quant-trading-copy\\data\\processed\\labels\\BTCUSDT_15m\\v23\\labels_BTCUSDT_15m_afc7f70605b71b1b0cf07b24f0b2f04d.parquet",
    "file_md5": "1d50ca7e20cdcea6405f1517b03a6813",
    "best_score": 0.9329758006449085,
    "n_trials": 150
  },
  "data_version": "layer1_labels_afc7f70605_105126x6_20251009144115"
}